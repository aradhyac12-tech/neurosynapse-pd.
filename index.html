<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroCompass-PD v2.1 | MDS-UPDRS Clinical Assessment</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- MediaPipe Libraries -->
    <script async src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script async src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script async src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js"></script>
    <script async src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
    
    <!-- PDF Export Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <!-- SPLASH SCREEN -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-content">
            <h1>NeuroCompass</h1>
            <p id="splashSub" data-i18n="mdsUPDRS">MDS-UPDRS Clinical Assessment Suite</p>
            <div class="splash-spinner"></div>
        </div>
    </div>

    <!-- HEADER -->
    <header class="header">
        <div class="header-left">
            <button id="menuToggle" class="menu-btn">‚ò∞</button>
            <h1 class="logo">NeuroCompass</h1>
        </div>
        <div class="header-right">
            <select id="topLanguageSelect" class="language-select">
                <option value="en">English</option>
                <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
            <button id="voiceBtn" class="voice-btn" title="Toggle Voice Assistant">üîä</button>
        </div>
    </header>

    <!-- SIDEBAR -->
    <div id="sidebarOverlay" class="sidebar-overlay"></div>
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2 id="navTitle" data-i18n="navigation">Navigation</h2>
            <button id="sidebarBack" class="close-btn">‚úï</button>
        </div>
        <div class="sidebar-nav">
            <a href="#" class="nav-item" data-view="dashboard" data-i18n="navdashboard">Dashboard</a>
            <a href="#" class="nav-item" data-view="info" data-i18n="navinfo">PD Information</a>
            <a href="#" class="nav-item" data-view="patient" data-i18n="navpatient">Patient Profile</a>
            <a href="#" class="nav-item" data-view="voice" data-i18n="navvoice">Speech Assessment</a>
            <a href="#" class="nav-item" data-view="tremor" data-i18n="navtremor">Tremor Assessment</a>
            <a href="#" class="nav-item" data-view="gait" data-i18n="navgait">Gait Assessment</a>
            <a href="#" class="nav-item" data-view="facial" data-i18n="navfacial">Facial Expression</a>
            <a href="#" class="nav-item" data-view="questions" data-i18n="navquestions">Questions</a>
            <a href="#" class="nav-item" data-view="spiral" data-i18n="navspiral">Spiral Drawing</a>
            <a href="#" class="nav-item" data-view="results" data-i18n="navresults">Results</a>
            <a href="#" class="nav-item" data-view="report" data-i18n="navreport">Report</a>
        </div>
        <div class="sidebar-footer">
            <p>NeuroCompass-PD</p>
            <p style="font-size: 11px; color: #999;">v2.1</p>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div class="main-content">

        <!-- DASHBOARD VIEW -->
        <div id="dashboardView" class="view active">
            <div class="card">
                <h2 id="dash-title" data-i18n="dashtitle">Clinical Assessment Dashboard</h2>
                <p id="dash-subtitle" data-i18n="dashsubtitle">MDS-UPDRS Part III digital screening summary</p>

                <div class="dashboard-grid">
                    <!-- Patient Profile Box -->
                    <div class="dashboard-box">
                        <div class="box-icon">üë§</div>
                        <h3 id="dash-patient" data-i18n="dashpatienttitle">Patient Profile</h3>
                        <p id="dash-patient-desc" data-i18n="dashpatientdesc">Complete demographic and contact details.</p>
                        <button class="btn btn-primary" onclick="navigateTo('patient')">Start</button>
                    </div>

                    <!-- Screening Tests Box -->
                    <div class="dashboard-box">
                        <div class="box-icon">üî¨</div>
                        <h3 id="dash-tests" data-i18n="dashscreeningtitle">Screening Tests</h3>
                        <p id="dash-tests-desc" data-i18n="dashscreeningdesc">Speech, tremor, gait and facial expression.</p>
                        <button class="btn btn-primary" onclick="navigateTo('voice')" id="testBtn">Tests</button>
                    </div>

                    <!-- Results & Report Box -->
                    <div class="dashboard-box">
                        <div class="box-icon">üìä</div>
                        <h3 id="dash-report" data-i18n="dashreporttitle">Radar Summary</h3>
                        <p id="dash-report-desc" data-i18n="dashreportdesc">Downloadable radar chart with domain scores.</p>
                        <button class="btn btn-primary" onclick="navigateTo('results')">View</button>
                    </div>
                </div>

                <div style="margin-top: 40px; padding: 20px; background: var(--color-secondary); border-radius: 8px; text-align: center;">
                    <p id="dash-patient-snapshot" data-i18n="dashpatientsnap">No patient information available.</p>
                </div>
            </div>
        </div>

        <!-- PARKINSON'S INFORMATION VIEW -->
        <div id="infoView" class="view">
            <div class="card">
                <h2 id="info-title" data-i18n="infotitle">Parkinson's Disease Information</h2>
                <p id="info-subtitle" data-i18n="infosubtitle">Clinical background and MDS-UPDRS Part III protocol</p>

                <div style="margin: 30px 0;">
                    <h3 id="info-pd-title" data-i18n="infopdtitle">What is Parkinson's?</h3>
                    <p id="info-pd-text" data-i18n="infopdtext">Progressive neurodegenerative disorder with tremor, bradykinesia, rigidity and postural instability.</p>

                    <h3 id="info-updrs-title" data-i18n="infoupdrstitle">MDS-UPDRS Part III</h3>
                    <p id="info-updrs-text" data-i18n="infoupdrstext">Motor examination with 18 items scored 0-4 (0 normal, 4 severe).</p>

                    <h3 id="info-biomarker-title" data-i18n="infobiomarkertitle">Digital Biomarkers</h3>
                    <p id="info-biomarker-text" data-i18n="infobiomarkertext">Speech, tremor, gait and facial metrics captured as objective digital signatures.</p>

                    <div style="background: rgba(255, 193, 7, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <strong>‚ö†Ô∏è Clinical Note:</strong>
                        <p id="info-note" data-i18n="infonote">This is a research prototype‚Äîinterpret with clinician oversight.</p>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('patient')" style="margin-top: 20px;">
                    <span id="info-next" data-i18n="infonext">Proceed to Patient Contact Information</span>
                </button>
            </div>
        </div>

        <!-- PATIENT PROFILE VIEW -->
        <div id="patientView" class="view">
            <div class="card">
                <h2 id="patient-title" data-i18n="patienttitle">Patient Demographic & Contact Information</h2>
                <p id="patient-subtitle" data-i18n="patientsubtitle">Required for documentation before screening</p>

                <form id="patientForm" style="max-width: 600px; margin: 30px auto;">
                    <div class="form-group">
                        <label for="firstName" id="label-first" data-i18n="labelfirstname">First Name</label>
                        <input type="text" id="firstName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName" id="label-last" data-i18n="labellastname">Last Name</label>
                        <input type="text" id="lastName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="dateOfBirth" id="label-dob" data-i18n="labeldob">Date of Birth</label>
                        <input type="date" id="dateOfBirth" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="gender" id="label-gender" data-i18n="labelgender">Gender</label>
                        <select id="gender" class="form-control" required>
                            <option value="">Select Gender</option>
                            <option value="M">Male</option>
                            <option value="F">Female</option>
                            <option value="O">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="countryCode" id="label-country" data-i18n="labelcountry">Country Code</label>
                        <input type="text" id="countryCode" class="form-control" placeholder="KG" required>
                    </div>
                    <div class="form-group">
                        <label for="phone" id="label-phone" data-i18n="labelphone">Phone Number</label>
                        <input type="tel" id="phone" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="email" id="label-email" data-i18n="labelemail">Email Address</label>
                        <input type="email" id="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="medicalID" id="label-medid" data-i18n="labelmedicalid">Medical Record Number</label>
                        <input type="text" id="medicalID" class="form-control">
                    </div>

                    <div style="background: rgba(33, 150, 243, 0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <p id="patient-note" data-i18n="patientnote">All required fields must be valid before screening tests unlock.</p>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <span id="patient-save" data-i18n="patientsave">Save & Unlock Screening</span>
                    </button>
                </form>
            </div>
        </div>

        <!-- VOICE ASSESSMENT VIEW -->
        <div id="voiceView" class="view">
            <div class="card">
                <h2 id="voice-title" data-i18n="speechassessmenttitle">Speech Assessment</h2>
                <p id="voice-desc" data-i18n="speechassessmentdesc">Record 3 trials of sustained "AAAAA" (5 seconds each)</p>

                <div style="text-align: center; margin: 30px 0;">
                    <p><strong id="voice-trial">Trial 1 of 3</strong></p>
                    <canvas id="voiceWaveform" width="400" height="150" style="border: 1px solid #ccc; border-radius: 8px; max-width: 100%; margin: 20px 0;"></canvas>
                    
                    <button id="voiceRecordBtn" class="btn btn-primary" style="margin: 10px;">
                        üé§ Start Recording
                    </button>
                    <button id="voiceStopBtn" class="btn btn-secondary" style="margin: 10px; display: none;">
                        ‚èπÔ∏è Stop Recording
                    </button>
                    <button id="voicePlayBtn" class="btn btn-secondary" style="margin: 10px; display: none;">
                        ‚ñ∂Ô∏è Play Recording
                    </button>

                    <div id="voiceMetrics" style="margin-top: 20px; display: none;">
                        <table style="width: 100%; text-align: left;">
                            <tr><td><strong id="metric-jitter">Jitter (%)</strong></td><td id="voiceJitter">-</td></tr>
                            <tr><td><strong id="metric-shimmer">Shimmer (dB)</strong></td><td id="voiceShimmer">-</td></tr>
                            <tr><td><strong id="metric-hnr">HNR (dB)</strong></td><td id="voiceHNR">-</td></tr>
                            <tr><td><strong id="metric-f0">Pitch (Hz)</strong></td><td id="voiceF0">-</td></tr>
                            <tr><td><strong id="metric-voiceupd">UPDRS Score</strong></td><td id="voiceUPDRS">-</td></tr>
                        </table>
                    </div>

                    <button id="voiceNextBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Next Trial
                    </button>
                    <button id="voiceCompleteBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Complete Speech Assessment
                    </button>
                </div>
            </div>
        </div>

        <!-- TREMOR ASSESSMENT VIEW -->
        <div id="tremorView" class="view">
            <div class="card">
                <h2 id="tremor-title" data-i18n="tremorassessmenttitle">Tremor Assessment</h2>
                <p id="tremor-desc" data-i18n="tremorassessmentdesc">Hold device steady for 10 seconds - DeviceMotion captures accelerometer data</p>

                <div style="text-align: center; margin: 30px 0;">
                    <p id="tremor-hand-select">Select Hand:</p>
                    <button class="btn btn-secondary" onclick="startTremorTest('left')">
                        üëà Left Hand
                    </button>
                    <button class="btn btn-secondary" onclick="startTremorTest('right')">
                        üëâ Right Hand
                    </button>

                    <div id="tremorCountdown" style="display: none; margin: 20px 0;">
                        <p><strong id="tremor-countdown-text">Starting in: <span id="tremorCountdownValue">10</span>s</strong></p>
                        <canvas id="tremorWaveform" width="400" height="150" style="border: 1px solid #ccc; border-radius: 8px; max-width: 100%; margin: 20px 0;"></canvas>
                        <p id="tremorStatus">Recording...</p>
                    </div>

                    <div id="tremorMetrics" style="margin-top: 20px; display: none;">
                        <table style="width: 100%; text-align: left;">
                            <tr><td><strong id="metric-freq">Frequency (Hz)</strong></td><td id="tremorFreq">-</td></tr>
                            <tr><td><strong id="metric-amp">Amplitude (m/s¬≤)</strong></td><td id="tremorAmp">-</td></tr>
                            <tr><td><strong id="metric-pow">Power (dB)</strong></td><td id="tremorPow">-</td></tr>
                            <tr><td><strong id="metric-treupd">UPDRS Score</strong></td><td id="tremorUPDRS">-</td></tr>
                        </table>
                    </div>

                    <button id="tremorRetestBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Test Other Hand
                    </button>
                    <button id="tremorCompleteBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Complete Tremor Assessment
                    </button>
                </div>
            </div>
        </div>

        <!-- GAIT ASSESSMENT VIEW -->
        <div id="gaitView" class="view">
            <div class="card">
                <h2 id="gait-title" data-i18n="gaitassessmenttitle">Gait Assessment</h2>
                <p id="gait-desc" data-i18n="gaitassessmentdesc">Walk in place or forward - MediaPipe Pose tracks ankle landmarks for cadence and stride length</p>

                <div style="text-align: center; margin: 30px 0;">
                    <div style="position: relative; display: inline-block; max-width: 100%;">
                        <video id="gaitVideo" autoplay muted playsinline style="display: none; width: 100%; max-width: 640px;"></video>
                        <canvas id="gaitCanvas" width="640" height="480" style="border: 1px solid #ccc; border-radius: 8px; max-width: 100%; background: #000;"></canvas>
                        <button id="gaitFlipCameraBtn" class="btn btn-secondary" style="margin-top: 10px; display: none;">
                            üì∑ Flip Camera
                        </button>
                    </div>

                    <button id="gaitStartBtn" class="btn btn-primary" style="margin: 20px;">
                        üö∂ Start Gait Recording
                    </button>
                    <button id="gaitStopBtn" class="btn btn-secondary" style="margin: 20px; display: none;">
                        ‚èπÔ∏è Stop Recording
                    </button>

                    <div id="gaitMetrics" style="margin-top: 20px; display: none;">
                        <table style="width: 100%; text-align: left;">
                            <tr><td><strong id="metric-cad">Cadence (steps/min)</strong></td><td id="gaitCadence">-</td></tr>
                            <tr><td><strong id="metric-str">Stride Length (m)</strong></td><td id="gaitStride">-</td></tr>
                            <tr><td><strong id="metric-spd">Speed (m/s)</strong></td><td id="gaitSpeed">-</td></tr>
                            <tr><td><strong id="metric-gaitupd">UPDRS Score</strong></td><td id="gaitUPDRS">-</td></tr>
                        </table>
                    </div>

                    <button id="gaitCompleteBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Complete Gait Assessment
                    </button>
                </div>
            </div>
        </div>

        <!-- FACIAL ASSESSMENT VIEW -->
        <div id="facialView" class="view">
            <div class="card">
                <h2 id="facial-title" data-i18n="facialassessmenttitle">Facial Expression Assessment</h2>
                <p id="facial-desc" data-i18n="facialassessmentdesc">Look at camera - MediaPipe Face Mesh tracks blink rate and jaw opening</p>

                <div style="text-align: center; margin: 30px 0;">
                    <div style="position: relative; display: inline-block; max-width: 100%;">
                        <video id="facialVideo" autoplay muted playsinline style="display: none; width: 100%; max-width: 640px;"></video>
                        <canvas id="facialCanvas" width="640" height="480" style="border: 1px solid #ccc; border-radius: 8px; max-width: 100%; background: #000;"></canvas>
                        <button id="facialFlipCameraBtn" class="btn btn-secondary" style="margin-top: 10px; display: none;">
                            üì∑ Flip Camera
                        </button>
                    </div>

                    <button id="facialStartBtn" class="btn btn-primary" style="margin: 20px;">
                        üòä Start Facial Recording
                    </button>
                    <button id="facialStopBtn" class="btn btn-secondary" style="margin: 20px; display: none;">
                        ‚èπÔ∏è Stop Recording
                    </button>

                    <div id="facialMetrics" style="margin-top: 20px; display: none;">
                        <table style="width: 100%; text-align: left;">
                            <tr><td><strong id="metric-blk">Blink Rate (/min)</strong></td><td id="facialBlink">-</td></tr>
                            <tr><td><strong id="metric-jaw">Jaw Opening (cm)</strong></td><td id="facialJaw">-</td></tr>
                            <tr><td><strong id="metric-mth">Mouth Width (cm)</strong></td><td id="facialMouth">-</td></tr>
                            <tr><td><strong id="metric-facialupd">UPDRS Score</strong></td><td id="facialUPDRS">-</td></tr>
                        </table>
                    </div>

                    <button id="facialCompleteBtn" class="btn btn-primary" style="margin-top: 20px; display: none;">
                        Complete Facial Assessment
                    </button>
                </div>
            </div>
        </div>

        <!-- QUESTIONS VIEW -->
        <div id="questionsView" class="view">
            <div class="card">
                <h2 id="questions-title" data-i18n="questionsassessmenttitle">Questions Assessment</h2>
                <p id="questions-desc" data-i18n="questionsassessmentdesc">Answer a short set of clinical questions to support screening context</p>

                <form id="questionsForm" style="max-width: 600px; margin: 30px auto;">
                    <div class="form-group">
                        <label id="q1-label">1. Do you experience slowness of movement (bradykinesia)?</label>
                        <select class="form-control question-answer" data-q="1" required>
                            <option value="">Select answer</option>
                            <option value="0">No</option>
                            <option value="1">Sometimes</option>
                            <option value="2">Often</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label id="q2-label">2. Do you have stiffness/rigidity in arms or legs?</label>
                        <select class="form-control question-answer" data-q="2" required>
                            <option value="">Select answer</option>
                            <option value="0">No</option>
                            <option value="1">Sometimes</option>
                            <option value="2">Often</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label id="q3-label">3. Do you have balance issues or near falls?</label>
                        <select class="form-control question-answer" data-q="3" required>
                            <option value="">Select answer</option>
                            <option value="0">No</option>
                            <option value="1">Sometimes</option>
                            <option value="2">Often</option>
                        </select>
                    </div>

                    <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <p id="questions-note">Note: This is a supportive questionnaire and not a diagnosis.</p>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <span id="questions-save">Save Questions</span>
                    </button>
                </form>
            </div>
        </div>

        <!-- SPIRAL DRAWING VIEW -->
        <div id="spiralView" class="view">
            <div class="card">
                <h2 id="spiral-title" data-i18n="spiraledrawingtitle">Spiral Drawing Test</h2>
                <p id="spiral-desc" data-i18n="spiraledrawingdesc">Draw a spiral smoothly using your finger/stylus</p>

                <div style="margin: 30px 0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 900px; margin: 0 auto;">
                        <!-- Reference Spiral -->
                        <div>
                            <h4 id="spiral-ref-label">Reference Spiral</h4>
                            <canvas id="spiralReference" width="300" height="300" style="border: 1px solid #ccc; border-radius: 8px; background: white;"></canvas>
                        </div>

                        <!-- User Drawing -->
                        <div>
                            <h4 id="spiral-your-label">Your Drawing</h4>
                            <canvas id="spiralCanvas" width="300" height="300" style="border: 1px solid #ccc; border-radius: 8px; background: white; cursor: crosshair;"></canvas>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <button id="spiralStartBtn" class="btn btn-primary">
                            ‚úèÔ∏è Start Drawing
                        </button>
                        <button id="spiralClearBtn" class="btn btn-secondary" style="display: none;">
                            üóëÔ∏è Clear Drawing
                        </button>
                        <button id="spiralSaveBtn" class="btn btn-primary" style="display: none;">
                            üíæ Save Spiral
                        </button>
                    </div>

                    <div id="spiralMetrics" style="margin-top: 20px; display: none;">
                        <table style="width: 100%; text-align: left; max-width: 600px; margin: 0 auto;">
                            <tr><td><strong id="metric-tridx">Tremor Index</strong></td><td id="spiralTremorIdx">-</td></tr>
                            <tr><td><strong id="metric-path">Path Length (px)</strong></td><td id="spiralPath">-</td></tr>
                            <tr><td><strong id="metric-vel">Velocity (px/step)</strong></td><td id="spiralVel">-</td></tr>
                            <tr><td><strong id="metric-spiralupd">UPDRS Score</strong></td><td id="spiralUPDRS">-</td></tr>
                        </table>
                    </div>

                    <div style="background: rgba(255, 193, 7, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <p id="spiral-note">Spiral drawing is a common motor task used to observe tremor and control.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- RESULTS VIEW -->
        <div id="resultsView" class="view">
            <div class="card">
                <h2 id="results-title">Assessment Results</h2>
                <p>Domain scores and motor performance metrics</p>

                <table style="width: 100%; margin-top: 30px; border-collapse: collapse;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--color-primary);">
                            <th style="text-align: left; padding: 10px;">Domain</th>
                            <th style="text-align: center; padding: 10px;">Status</th>
                            <th style="text-align: center; padding: 10px;">Score (0-4)</th>
                            <th style="text-align: left; padding: 10px;">Severity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Speech</td>
                            <td style="text-align: center;" id="rptVoiceStatus">-</td>
                            <td style="text-align: center;" id="rptVoiceScore">-</td>
                            <td style="padding: 10px;" id="rptVoiceSev">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Tremor</td>
                            <td style="text-align: center;" id="rptTremorStatus">-</td>
                            <td style="text-align: center;" id="rptTremorScore">-</td>
                            <td style="padding: 10px;" id="rptTremorSev">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Gait</td>
                            <td style="text-align: center;" id="rptGaitStatus">-</td>
                            <td style="text-align: center;" id="rptGaitScore">-</td>
                            <td style="padding: 10px;" id="rptGaitSev">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Facial</td>
                            <td style="text-align: center;" id="rptFacialStatus">-</td>
                            <td style="text-align: center;" id="rptFacialScore">-</td>
                            <td style="padding: 10px;" id="rptFacialSev">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Questions</td>
                            <td style="text-align: center;" id="rptCogStatus">-</td>
                            <td style="text-align: center;" id="rptCogScore">-</td>
                            <td style="padding: 10px;" id="rptCogSev">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd; background: var(--color-secondary);">
                            <td style="padding: 10px;"><strong>Spiral</strong></td>
                            <td style="text-align: center;" id="rptCoordStatus">-</td>
                            <td style="text-align: center;" id="rptCoordScore">-</td>
                            <td style="padding: 10px;" id="rptCoordSev">-</td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 30px; text-align: center;">
                    <button class="btn btn-primary" onclick="navigateTo('report')">
                        üìÑ Generate Full Report
                    </button>
                    <button class="btn btn-secondary" onclick="downloadPDF()" style="display: none;" id="downloadPdfBtn">
                        üì• Download PDF
                    </button>
                </div>
            </div>
        </div>

        <!-- REPORT VIEW -->
        <div id="reportView" class="view">
            <div class="card" id="reportContent">
                <h2 id="report-title">Clinical Assessment Report</h2>
                <p>Comprehensive MDS-UPDRS Part III Digital Screening Report</p>

                <div style="margin-top: 30px;">
                    <h3 id="report-patient-title">Patient Information</h3>
                    <p id="reportPatientInfo">No patient information available.</p>

                    <h3 id="report-summary-title" style="margin-top: 30px;">Assessment Summary</h3>
                    <p id="reportSummary">Complete all assessments to generate summary.</p>

                    <h3 id="report-detailed-title" style="margin-top: 30px;">Detailed Results</h3>
                    <p id="reportDetailed">Assessment results will appear here.</p>

                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-primary" onclick="downloadPDF()">
                            üì• Download PDF Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- SCRIPTS -->
    <script src="languages.js"></script>
    <script src="assessment.js"></script>
</body>
</html>
